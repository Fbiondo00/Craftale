/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

"use client";

import React from "react";
import { AuthProvider } from "@/contexts/AuthContext";
import type { SessionUser } from "@/lib/supabase/get-session";

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

/**
 * HeaderAuthProvider Component - Client Component
 *
 * Purpose: Minimal AuthProvider wrapper for header auth components
 *
 * Since Header is now outside the main AuthProvider, we need this
 * minimal wrapper to provide auth context only to the header components
 * that need it (HeaderAuthActions, MobileAuthButton).
 *
 * This creates a separate auth context instance for the header,
 * initialized with the sessionUser from the server.
 */

interface HeaderAuthProviderProps {
  children: React.ReactNode;
  sessionUser?: SessionUser | null;
}

// Convert SessionUser to the User type expected by AuthContext
function convertSessionUser(sessionUser: SessionUser | null | undefined) {
  if (!sessionUser) return null;
  return {
    id: sessionUser.id,
    email: sessionUser.email,
    name: sessionUser.name,
    avatar: sessionUser.avatar,
  };
}

export function HeaderAuthProvider({ children, sessionUser }: HeaderAuthProviderProps) {
  return <AuthProvider initialUser={convertSessionUser(sessionUser)}>{children}</AuthProvider>;
}

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

"use client";

import React, { useEffect, useState } from "react";
import { cn } from "@/lib/utils";

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

/**
 * HeaderScrollEffects Component - Client Component
 *
 * Purpose: Handles scroll-based styling changes for the header
 *
 * This minimal client component wraps the header content and:
 * - Listens to window scroll events
 * - Applies different styles when scrolled (blur, shadow, border)
 * - Keeps the header fixed at the top of the viewport
 *
 * Why client-side: Needs access to window.scrollY and addEventListener
 *
 * Performance: Uses passive event listeners and minimal state
 */

interface HeaderScrollEffectsProps {
  children: React.ReactNode;
}

export function HeaderScrollEffects({ children }: HeaderScrollEffectsProps) {
  // Track if user has scrolled past threshold
  const [isScrolled, setIsScrolled] = useState(false);

  useEffect(() => {
    // Only run on client
    if (typeof window === "undefined") return;

    const handleScroll = () => {
      // Apply scroll styles after 20px of scrolling
      setIsScrolled(window.scrollY > 20);
    };

    // Use passive listener for better scroll performance
    window.addEventListener("scroll", handleScroll, { passive: true });

    // Cleanup on unmount
    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, []);

  return (
    <header
      className={cn(
        "fixed top-0 left-0 right-0 z-50",
        // Apply APTY design system: bg-subtle at top, bg-base when scrolled
        // Removed transition to prevent delay when theme changes
        isScrolled
          ? "bg-apty-bg-base backdrop-blur-xl border-b border-apty-border-default shadow-apty-lg"
          : "bg-apty-bg-subtle backdrop-blur-sm",
      )}
    >
      {children}
    </header>
  );
}
